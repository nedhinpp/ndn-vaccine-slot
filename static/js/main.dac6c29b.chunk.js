(this["webpackJsonpndn-vaccine-slot"]=this["webpackJsonpndn-vaccine-slot"]||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(15),i=a.n(n),l=(a(22),a(3)),r=(a(23),a(5)),d=a.n(r),o=a(17),j=a(16),b=a.n(j),m=a.p+"static/media/police_siren.bacfc8b7.mp3",h=a(0);var u=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"alert alert-info d-block",role:"alert",children:Object(h.jsx)("b",{children:Object(h.jsx)("small",{children:Object(h.jsxs)("a",{href:"https://telegram.me/"+e.tid,target:"_blank",className:"twitter text-primary",style:{fontWeight:"bold"},children:[Object(h.jsx)("i",{className:"bx bxl-telegram"})," Join ",e.name," Telegram channel for live updates"]})})})})})};var O=function(){var e=b()().format("DD-MM-YYYY"),t=new o.a,a=Object(c.useState)([]),s=Object(l.a)(a,2),n=s[0],i=s[1],r=Object(c.useState)([]),j=Object(l.a)(r,2),O=(j[0],j[1],Object(c.useState)([])),p=Object(l.a)(O,2),v=p[0],x=p[1],f=Object(c.useState)(e),g=Object(l.a)(f,2),_=g[0],N=(g[1],Object(c.useState)("")),y=Object(l.a)(N,2),k=y[0],w=y[1],A=Object(c.useState)(!0),S=Object(l.a)(A,2),D=S[0],V=S[1],C=Object(c.useState)(""),K=Object(l.a)(C,2),M=K[0],E=K[1],T=Object(c.useState)(""),Y=Object(l.a)(T,2),B=Y[0],I=Y[1],J=!1;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("nav",{className:"navbar navbar-default nav-default",children:Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsx)("div",{className:"navbar-header",children:Object(h.jsx)("a",{className:"navbar-brand",href:"#",children:Object(h.jsx)("b",{children:"Home"})})})})}),Object(h.jsxs)("div",{className:"container",style:{marginTop:"2rem"},children:["305"===k?Object(h.jsx)(u,{name:"Kozhikode",tid:"c0vidVaccine"}):"295"===k?Object(h.jsx)(u,{name:"Kasaragod",tid:"c0vidVaccineKasaragod"}):"297"===k?Object(h.jsx)(u,{name:"Kannur",tid:"c0vidVaccineKannur"}):"303"===k?Object(h.jsx)(u,{name:"Thrissur",tid:"c0vidVaccineThrissur"}):"308"===k?Object(h.jsx)(u,{name:"Palakkad",tid:"c0vidVaccinePalakkad"}):"302"===k?Object(h.jsx)(u,{name:"Malappuram",tid:"c0vidVaccineMalappuram"}):Object(h.jsx)("div",{}),Object(h.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(h.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"enableAudioAlert",defaultChecked:"true",onClick:function(e){V(!D)}}),Object(h.jsx)("label",{className:"custom-control-label",htmlFor:"enableAudioAlert",style:{float:"left"},children:"Enable Audio Alert"})]}),Object(c.useEffect)((function(){d.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/17").then((function(e){x(e.data.districts)}))}),[]),Object(h.jsxs)("select",{className:"btn btn-secondary dropdown-toggle selection",onChange:function(e){d.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e.target.value,"&date=").concat(_)).then((function(t){i(t.data.centers),w(e.target.value)}))},children:[Object(h.jsx)("option",{value:"",children:"Select"}),v.map((function(e,t){return Object(h.jsx)("option",{value:e.district_id,children:e.district_name},t)}))]}),Object(h.jsxs)("select",{className:"btn btn-secondary dropdown-toggle smallSelection",onChange:function(e){E(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"All"}),Object(h.jsx)("option",{value:"1",children:"Dose 1"}),Object(h.jsx)("option",{value:"2",children:"Dose 2"})]}),Object(h.jsxs)("select",{className:"btn btn-secondary dropdown-toggle smallSelection",onChange:function(e){I(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"All"}),Object(h.jsx)("option",{value:"18",children:"18 - 40"}),Object(h.jsx)("option",{value:"40",children:"41 - 44"}),Object(h.jsx)("option",{value:"45",children:" 45+ "})]}),Object(c.useEffect)((function(){var e=setInterval((function(){""!==k&&d.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(k,"&date=").concat(_)).then((function(e){i(e.data.centers),J=!1;for(var a=0;a<e.data.centers.length;a++)for(var c=0;c<e.data.centers[a].sessions.length;c++)if(0!==e.data.centers[a].sessions[c].available_capacity&&(""===B||""!==B&&B==e.data.centers[a].sessions[c].min_age_limit)&&(""===M||""!==M&&("1"==M&&e.data.centers[a].sessions[c].available_capacity_dose1>0||"2"==M&&e.data.centers[a].sessions[c].available_capacity_dose2>0))&&!t.get(e.data.centers[a].center_id+e.data.centers[a].sessions[c].date+e.data.centers[a].sessions[c].min_age_limit+e.data.centers[a].sessions[c].vaccine)){t.set(e.data.centers[a].center_id+e.data.centers[a].sessions[c].date+e.data.centers[a].sessions[c].min_age_limit+e.data.centers[a].sessions[c].vaccine,{key:e.data.centers[a].center_id+e.data.centers[a].sessions[c].date+e.data.centers[a].sessions[c].min_age_limit+e.data.centers[a].sessions[c].vaccine},{path:"/",expires:new Date(Date.now()+36e5)}),J||(J=!0);break}J&&D&&new Audio(m).play()}))}),3e4);return function(){clearInterval(e)}}))]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("table",{className:"table table-striped",children:[Object(h.jsx)("thead",{className:"thead-dark",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"text-left",children:" Vaccination Center"}),Object(h.jsx)("th",{children:"Availablity"})]})}),Object(h.jsx)("tbody",{children:n.map((function(e,t){return n[t].sessions.map((function(t){if(0!==t.available_capacity&&(""===B||""!==B&&B==t.min_age_limit)&&(""===M||""!==M&&("1"==M&&t.available_capacity_dose1>0||"2"==M&&t.available_capacity_dose2>0)))return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{className:"text-left",children:[Object(h.jsxs)("span",{className:"name",children:[e.name," "]}),Object(h.jsx)("span",{className:e.fee_type,children:e.fee_type}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"smallfont",children:e.address}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{className:"smallfont font-weight-bold",children:[t.date," |"," "]}),Object(h.jsxs)("span",{className:"smallfont font-weight-bold",children:[t.vaccine," |"," "]})," ",Object(h.jsxs)("span",{className:"smallfont font-weight-bold",children:["Age",t.min_age_limit," +"]})]}),Object(h.jsxs)("td",{className:0===t.available_capacity?"nostock":"stock",children:["Dose 1 : ",t.available_capacity_dose1,Object(h.jsx)("br",{}),"Dose 2 : ",t.available_capacity_dose2,Object(h.jsx)("br",{})]})]})}))}))})]})})]})};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.dac6c29b.chunk.js.map