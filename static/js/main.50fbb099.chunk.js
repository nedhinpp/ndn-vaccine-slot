(this["webpackJsonpndn-vaccine-slot"]=this["webpackJsonpndn-vaccine-slot"]||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(15),i=a.n(n),l=(a(22),a(3)),r=(a(23),a(5)),d=a.n(r),o=a(17),j=a(16),b=a.n(j),h=a.p+"static/media/police_siren.bacfc8b7.mp3",m=a(0);var p=function(e){return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"alert alert-info d-block",role:"alert",children:Object(m.jsx)("b",{children:Object(m.jsx)("small",{children:Object(m.jsxs)("a",{href:"https://telegram.me/"+e.tid,target:"_blank",className:"twitter text-primary",style:{fontWeight:"bold"},children:[Object(m.jsx)("i",{className:"bx bxl-telegram"})," Join ",e.name," Telegram channel for live updates"]})})})})})};a(44);var O=function(){var e=b()().format("DD-MM-YYYY"),t=new o.a,a=Object(c.useState)([]),s=Object(l.a)(a,2),n=s[0],i=s[1],r=Object(c.useState)([]),j=Object(l.a)(r,2),O=(j[0],j[1],Object(c.useState)([])),u=Object(l.a)(O,2),v=u[0],x=u[1],f=Object(c.useState)(e),g=Object(l.a)(f,2),_=g[0],N=(g[1],Object(c.useState)("")),y=Object(l.a)(N,2),k=y[0],A=y[1],w=Object(c.useState)(!0),S=Object(l.a)(w,2),D=S[0],V=S[1],C=Object(c.useState)(""),K=Object(l.a)(C,2),M=K[0],T=K[1],E=Object(c.useState)(""),Y=Object(l.a)(E,2),B=Y[0],I=Y[1],J=!1,P=!1;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("nav",{className:"navbar navbar-default nav-default",children:Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsxs)("div",{className:"navbar-header",children:[Object(m.jsxs)("a",{className:"navbar-brand",href:"#",children:[Object(m.jsx)("span",{className:"glyphicon glyphicon-envelope"})," Home"]}),Object(m.jsx)("a",{className:"navbar-brand",target:"_blank",href:"https://nidhinpp.in/",children:"About"})]})})}),Object(m.jsxs)("div",{className:"container",style:{marginTop:"2rem"},children:[Object(m.jsx)("h2",{children:"Vaccine Availability Tracker"}),"305"===k?Object(m.jsx)(p,{name:"Kozhikode",tid:"c0vidVaccine"}):"295"===k?Object(m.jsx)(p,{name:"Kasaragod",tid:"c0vidVaccineKasaragod"}):"297"===k?Object(m.jsx)(p,{name:"Kannur",tid:"c0vidVaccineKannur"}):"303"===k?Object(m.jsx)(p,{name:"Thrissur",tid:"c0vidVaccineThrissur"}):"308"===k?Object(m.jsx)(p,{name:"Palakkad",tid:"c0vidVaccinePalakkad"}):"302"===k?Object(m.jsx)(p,{name:"Malappuram",tid:"c0vidVaccineMalappuram"}):Object(m.jsx)("div",{}),Object(m.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(m.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"enableAudioAlert",defaultChecked:"true",onClick:function(e){V(!D)}}),Object(m.jsx)("label",{className:"custom-control-label",htmlFor:"enableAudioAlert",style:{float:"left"},children:"Enable Audio Alert"})]}),Object(c.useEffect)((function(){d.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/17").then((function(e){x(e.data.districts)}))}),[]),Object(m.jsxs)("select",{className:"btn btn-secondary dropdown-toggle selection",onChange:function(e){d.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e.target.value,"&date=").concat(_)).then((function(t){i(t.data.centers),A(e.target.value)}))},children:[Object(m.jsx)("option",{value:"",children:"Select"}),v.map((function(e,t){return Object(m.jsx)("option",{value:e.district_id,children:e.district_name},t)}))]}),Object(m.jsxs)("select",{className:"btn btn-secondary dropdown-toggle smallSelection",onChange:function(e){T(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"All"}),Object(m.jsx)("option",{value:"1",children:"Dose 1"}),Object(m.jsx)("option",{value:"2",children:"Dose 2"})]}),Object(m.jsxs)("select",{className:"btn btn-secondary dropdown-toggle smallSelection",onChange:function(e){I(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"All"}),Object(m.jsx)("option",{value:"18",children:"18 - 40"}),Object(m.jsx)("option",{value:"40",children:"41 - 44"}),Object(m.jsx)("option",{value:"45",children:" 45+ "})]}),Object(c.useEffect)((function(){var e=setInterval((function(){""!==k&&d.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(k,"&date=").concat(_)).then((function(e){i(e.data.centers),J=!1;for(var a=0;a<e.data.centers.length;a++)for(var c=0;c<e.data.centers[a].sessions.length;c++)if(0!==e.data.centers[a].sessions[c].available_capacity&&(""===B||""!==B&&B==e.data.centers[a].sessions[c].min_age_limit)&&(""===M||""!==M&&("1"==M&&e.data.centers[a].sessions[c].available_capacity_dose1>0||"2"==M&&e.data.centers[a].sessions[c].available_capacity_dose2>0))&&!t.get(e.data.centers[a].center_id+e.data.centers[a].sessions[c].date+e.data.centers[a].sessions[c].min_age_limit+e.data.centers[a].sessions[c].vaccine)){t.set(e.data.centers[a].center_id+e.data.centers[a].sessions[c].date+e.data.centers[a].sessions[c].min_age_limit+e.data.centers[a].sessions[c].vaccine,{key:e.data.centers[a].center_id+e.data.centers[a].sessions[c].date+e.data.centers[a].sessions[c].min_age_limit+e.data.centers[a].sessions[c].vaccine},{path:"/",expires:new Date(Date.now()+36e5)}),J||(J=!0);break}J&&D&&new Audio(h).play()}))}),3e4);return function(){clearInterval(e)}}))]}),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{className:"thead-dark",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"text-left",children:" Vaccination Center"}),Object(m.jsx)("th",{children:"Availablity"})]})}),Object(m.jsxs)("tbody",{children:[P=!1,n.map((function(e,t){return n[t].sessions.map((function(t){if(0!==t.available_capacity&&(""===B||""!==B&&B==t.min_age_limit)&&(""===M||""!==M&&("1"==M&&t.available_capacity_dose1>0||"2"==M&&t.available_capacity_dose2>0)))return P||(P=!0),Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:"text-left left-td",children:[Object(m.jsxs)("span",{className:"name",children:[e.name," "]}),Object(m.jsx)("span",{className:e.fee_type,children:e.fee_type}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"smallfont",children:e.address}),Object(m.jsx)("br",{}),Object(m.jsxs)("span",{className:"smallfont font-weight-bold",children:[t.date," |"," "]}),Object(m.jsxs)("span",{className:"smallfont font-weight-bold",children:[t.vaccine," |"," "]})," ",Object(m.jsxs)("span",{className:"smallfont font-weight-bold",children:["Age",t.min_age_limit," +"]})]}),Object(m.jsxs)("td",{className:0===t.available_capacity?"nostock right-td":"stock right-td",children:["Dose 1 : ",t.available_capacity_dose1,Object(m.jsx)("br",{}),"Dose 2 : ",t.available_capacity_dose2,Object(m.jsx)("br",{})]})]})}))})),function(){if(!P&&""!==k)return Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:"2",children:"No Vaccination center is available for booking in the selected district."})})}()]})]})})]})};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.50fbb099.chunk.js.map