{"version":3,"sources":["assets/audios/police_siren.mp3","Components/TelegramLink/TelegramLink.js","App.js","index.js"],"names":["TelegramLink","props","className","role","href","tid","target","style","fontWeight","name","App","curDate","moment","format","cookies","Cookies","useState","data","setData","districts","setDistricts","date","district","setCurrentDistrict","canPlay","setCanPlay","dose","setDose","age","setAge","play","marginTop","type","id","defaultChecked","onClick","e","htmlFor","float","useEffect","axios","get","then","response","onChange","value","centers","map","districtName","index","district_id","district_name","timer","setInterval","i","length","k","sessions","available_capacity","min_age_limit","available_capacity_dose1","available_capacity_dose2","center_id","vaccine","set","key","path","expires","Date","now","Audio","audio","clearInterval","obj","ses","fee_type","address","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dac6c29b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/police_siren.bacfc8b7.mp3\";","import React from \"react\";\n\nfunction TelegramLink(props) {\n  return (\n    <div>\n      <div className=\"alert alert-info d-block\" role=\"alert\">\n        <b>\n          <small>\n            <a\n              href={\"https://telegram.me/\" + props.tid}\n              target=\"_blank\"\n              className=\"twitter text-primary\"\n              style={{ fontWeight: \"bold\" }}\n            >\n              <i className=\"bx bxl-telegram\"></i> Join {props.name} Telegram\n              channel for live updates\n            </a>\n          </small>\n        </b>\n      </div>\n    </div>\n  );\n}\n\nexport default TelegramLink;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport moment from \"moment\";\nimport audio from \"./assets/audios/police_siren.mp3\";\n\nimport TelegramLink from \"./Components/TelegramLink/TelegramLink\";\n\nfunction App() {\n  let curDate = moment().format(\"DD-MM-YYYY\");\n  const cookies = new Cookies();\n  const [data, setData] = useState([]);\n  const [states, setState] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [date, setDate] = useState(curDate);\n  const [district, setCurrentDistrict] = useState(\"\");\n  const [canPlay, setCanPlay] = useState(true);\n  const [dose, setDose] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  let play = false;\n\n  return (\n    <div className=\"App\">\n      {/* <Notify /> */}\n      <nav className=\"navbar navbar-default nav-default\">\n        <div className=\"container-fluid\">\n          <div className=\"navbar-header\">\n            <a className=\"navbar-brand\" href=\"#\">\n              <b>Home</b>\n            </a>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"container\" style={{ marginTop: \"2rem\" }}>\n        {(() => {\n          if (district === \"305\") {\n            return <TelegramLink name=\"Kozhikode\" tid=\"c0vidVaccine\" />;\n          } else if (district === \"295\") {\n            return (\n              <TelegramLink name=\"Kasaragod\" tid=\"c0vidVaccineKasaragod\" />\n            );\n          } else if (district === \"297\") {\n            return <TelegramLink name=\"Kannur\" tid=\"c0vidVaccineKannur\" />;\n          } else if (district === \"303\") {\n            return <TelegramLink name=\"Thrissur\" tid=\"c0vidVaccineThrissur\" />;\n          } else if (district === \"308\") {\n            return <TelegramLink name=\"Palakkad\" tid=\"c0vidVaccinePalakkad\" />;\n          } else if (district === \"302\") {\n            return (\n              <TelegramLink name=\"Malappuram\" tid=\"c0vidVaccineMalappuram\" />\n            );\n          } else {\n            return <div></div>;\n          }\n        })()}\n\n        <div className=\"custom-control custom-checkbox\">\n          <input\n            type=\"checkbox\"\n            className=\"custom-control-input\"\n            id=\"enableAudioAlert\"\n            defaultChecked=\"true\"\n            onClick={(e) => {\n              setCanPlay(!canPlay);\n            }}\n          ></input>\n          <label\n            className=\"custom-control-label\"\n            htmlFor=\"enableAudioAlert\"\n            style={{ float: \"left\" }}\n          >\n            Enable Audio Alert\n          </label>\n        </div>\n        {useEffect(() => {\n          axios\n            .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/districts/17\")\n            .then((response) => {\n              setDistricts(response.data.districts);\n            });\n        }, [])}\n        {/* <select\n          className=\"btn btn-secondary dropdown-toggle selection\"\n          onChange={(e) => {\n            axios\n              .get(\n                `https://cdn-api.co-vin.in/api/v2/admin/location/districts/${e.target.value}`\n              )\n              .then((response) => {\n                setDistricts(response.data.districts);\n              });\n          }}\n        >\n          <option value=\"\">Select</option>\n          {states.map((statesName, index) => {\n            return (\n              <option key={index} value={statesName.state_id}>\n                {statesName.state_name}\n              </option>\n            );\n          })}\n        </select> */}\n        <select\n          className=\"btn btn-secondary dropdown-toggle selection\"\n          onChange={(e) => {\n            axios\n              .get(\n                `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${e.target.value}&date=${date}`\n              )\n              .then((response) => {\n                setData(response.data.centers);\n                setCurrentDistrict(e.target.value);\n              });\n          }}\n        >\n          <option value=\"\">Select</option>\n          {districts.map((districtName, index) => {\n            return (\n              <option key={index} value={districtName.district_id}>\n                {districtName.district_name}\n              </option>\n            );\n          })}\n        </select>\n        <select\n          className=\"btn btn-secondary dropdown-toggle smallSelection\"\n          onChange={(e) => {\n            setDose(e.target.value);\n          }}\n        >\n          <option value=\"\">All</option>\n          <option value=\"1\">Dose 1</option>\n          <option value=\"2\">Dose 2</option>\n        </select>\n        <select\n          className=\"btn btn-secondary dropdown-toggle smallSelection\"\n          onChange={(e) => {\n            setAge(e.target.value);\n          }}\n        >\n          <option value=\"\">All</option>\n          <option value=\"18\">18 - 40</option>\n          <option value=\"40\">41 - 44</option>\n          <option value=\"45\"> 45+ </option>\n        </select>\n        {useEffect(() => {\n          const timer = setInterval(() => {\n            if (district !== \"\") {\n              axios\n                .get(\n                  `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${district}&date=${date}`\n                )\n                .then((response) => {\n                  setData(response.data.centers);\n                  play = false;\n                  for (var i = 0; i < response.data.centers.length; i++) {\n                    for (\n                      var k = 0;\n                      k < response.data.centers[i].sessions.length;\n                      k++\n                    ) {\n                      if (\n                        response.data.centers[i].sessions[k]\n                          .available_capacity !== 0 &&\n                        (age === \"\" ||\n                          (age !== \"\" &&\n                            age ==\n                              response.data.centers[i].sessions[k]\n                                .min_age_limit)) &&\n                        (dose === \"\" ||\n                          (dose !== \"\" &&\n                            ((dose == \"1\" &&\n                              response.data.centers[i].sessions[k]\n                                .available_capacity_dose1 > 0) ||\n                              (dose == \"2\" &&\n                                response.data.centers[i].sessions[k]\n                                  .available_capacity_dose2 > 0)))) &&\n                        !cookies.get(\n                          response.data.centers[i].center_id +\n                            response.data.centers[i].sessions[k].date +\n                            response.data.centers[i].sessions[k].min_age_limit +\n                            response.data.centers[i].sessions[k].vaccine\n                        )\n                      ) {\n                        cookies.set(\n                          response.data.centers[i].center_id +\n                            response.data.centers[i].sessions[k].date +\n                            response.data.centers[i].sessions[k].min_age_limit +\n                            response.data.centers[i].sessions[k].vaccine,\n                          {\n                            key:\n                              response.data.centers[i].center_id +\n                              response.data.centers[i].sessions[k].date +\n                              response.data.centers[i].sessions[k]\n                                .min_age_limit +\n                              response.data.centers[i].sessions[k].vaccine,\n                          },\n                          { path: \"/\", expires: new Date(Date.now() + 3600000) }\n                        );\n\n                        if (!play) play = true;\n                        break;\n                      }\n                    }\n                  }\n                  if (play && canPlay) new Audio(audio).play();\n                });\n            }\n          }, 30000);\n          return () => {\n            clearInterval(timer);\n          };\n        })}\n      </div>\n\n      <div className=\"container\">\n        <table className=\"table table-striped\">\n          <thead className=\"thead-dark\">\n            <tr>\n              <th className=\"text-left\"> Vaccination Center</th>\n              <th>Availablity</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((obj, index) => {\n              return data[index].sessions.map(function (ses) {\n                if (\n                  ses.available_capacity !== 0 &&\n                  (age === \"\" || (age !== \"\" && age == ses.min_age_limit)) &&\n                  (dose === \"\" ||\n                    (dose !== \"\" &&\n                      ((dose == \"1\" && ses.available_capacity_dose1 > 0) ||\n                        (dose == \"2\" && ses.available_capacity_dose2 > 0))))\n                ) {\n                  return (\n                    <tr>\n                      <td className=\"text-left\">\n                        <span className=\"name\">{obj.name} </span>\n                        <span className={obj.fee_type}>{obj.fee_type}</span>\n                        <br />\n                        <span className=\"smallfont\">{obj.address}</span>\n                        <br />\n                        <span className=\"smallfont font-weight-bold\">\n                          {ses.date} |{\" \"}\n                        </span>\n                        <span className=\"smallfont font-weight-bold\">\n                          {ses.vaccine} |{\" \"}\n                        </span>{\" \"}\n                        <span className=\"smallfont font-weight-bold\">\n                          Age\n                          {ses.min_age_limit} +\n                        </span>\n                      </td>\n                      <td\n                        className={\n                          ses.available_capacity === 0 ? \"nostock\" : \"stock\"\n                        }\n                      >\n                        Dose 1 : {ses.available_capacity_dose1}\n                        <br />\n                        Dose 2 : {ses.available_capacity_dose2}\n                        <br />\n                      </td>\n                    </tr>\n                  );\n                }\n              });\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}