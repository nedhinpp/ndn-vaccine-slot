{"version":3,"sources":["assets/audios/police_siren.mp3","Components/TelegramLink/TelegramLink.js","App.js","index.js"],"names":["TelegramLink","props","className","role","href","tid","target","style","fontWeight","name","App","curDate","moment","format","cookies","Cookies","useState","data","setData","districts","setDistricts","date","district","setCurrentDistrict","canPlay","setCanPlay","dose","setDose","age","setAge","play","nodata","marginTop","type","id","defaultChecked","onClick","e","htmlFor","float","useEffect","axios","get","then","response","onChange","value","centers","map","districtName","index","district_id","district_name","timer","setInterval","i","length","k","sessions","available_capacity","min_age_limit","available_capacity_dose1","available_capacity_dose2","center_id","vaccine","set","key","path","expires","Date","now","Audio","audio","clearInterval","obj","ses","fee_type","address","colSpan","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50fbb099.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/police_siren.bacfc8b7.mp3\";","import React from \"react\";\n\nfunction TelegramLink(props) {\n  return (\n    <div>\n      <div className=\"alert alert-info d-block\" role=\"alert\">\n        <b>\n          <small>\n            <a\n              href={\"https://telegram.me/\" + props.tid}\n              target=\"_blank\"\n              className=\"twitter text-primary\"\n              style={{ fontWeight: \"bold\" }}\n            >\n              <i className=\"bx bxl-telegram\"></i> Join {props.name} Telegram\n              channel for live updates\n            </a>\n          </small>\n        </b>\n      </div>\n    </div>\n  );\n}\n\nexport default TelegramLink;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport moment from \"moment\";\nimport audio from \"./assets/audios/police_siren.mp3\";\nimport TelegramLink from \"./Components/TelegramLink/TelegramLink\";\nimport { isMobile } from \"react-device-detect\";\n\nfunction App() {\n  let curDate = moment().format(\"DD-MM-YYYY\");\n  const cookies = new Cookies();\n  const [data, setData] = useState([]);\n  const [states, setState] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [date, setDate] = useState(curDate);\n  const [district, setCurrentDistrict] = useState(\"\");\n  const [canPlay, setCanPlay] = useState(true);\n  const [dose, setDose] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  let play = false;\n  let nodata = false;\n\n  return (\n    <div className=\"App\">\n      {/* <Notify /> */}\n      <nav className=\"navbar navbar-default nav-default\">\n        <div className=\"container-fluid\">\n          <div className=\"navbar-header\">\n            <a className=\"navbar-brand\" href=\"#\">\n              <span className=\"glyphicon glyphicon-envelope\"></span> Home\n            </a>\n            <a\n              className=\"navbar-brand\"\n              target=\"_blank\"\n              href=\"https://nidhinpp.in/\"\n            >\n              About\n            </a>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"container\" style={{ marginTop: \"2rem\" }}>\n        <h2>Vaccine Availability Tracker</h2>\n\n        {(() => {\n          if (district === \"305\") {\n            return <TelegramLink name=\"Kozhikode\" tid=\"c0vidVaccine\" />;\n          } else if (district === \"295\") {\n            return (\n              <TelegramLink name=\"Kasaragod\" tid=\"c0vidVaccineKasaragod\" />\n            );\n          } else if (district === \"297\") {\n            return <TelegramLink name=\"Kannur\" tid=\"c0vidVaccineKannur\" />;\n          } else if (district === \"303\") {\n            return <TelegramLink name=\"Thrissur\" tid=\"c0vidVaccineThrissur\" />;\n          } else if (district === \"308\") {\n            return <TelegramLink name=\"Palakkad\" tid=\"c0vidVaccinePalakkad\" />;\n          } else if (district === \"302\") {\n            return (\n              <TelegramLink name=\"Malappuram\" tid=\"c0vidVaccineMalappuram\" />\n            );\n          } else {\n            return <div></div>;\n          }\n        })()}\n\n        <div className=\"custom-control custom-checkbox\">\n          <input\n            type=\"checkbox\"\n            className=\"custom-control-input\"\n            id=\"enableAudioAlert\"\n            defaultChecked=\"true\"\n            onClick={(e) => {\n              setCanPlay(!canPlay);\n            }}\n          ></input>\n          <label\n            className=\"custom-control-label\"\n            htmlFor=\"enableAudioAlert\"\n            style={{ float: \"left\" }}\n          >\n            Enable Audio Alert\n          </label>\n        </div>\n\n        {useEffect(() => {\n          axios\n            .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/districts/17\")\n            .then((response) => {\n              setDistricts(response.data.districts);\n            });\n        }, [])}\n        {/* <select\n          className=\"btn btn-secondary dropdown-toggle selection\"\n          onChange={(e) => {\n            axios\n              .get(\n                `https://cdn-api.co-vin.in/api/v2/admin/location/districts/${e.target.value}`\n              )\n              .then((response) => {\n                setDistricts(response.data.districts);\n              });\n          }}\n        >\n          <option value=\"\">Select</option>\n          {states.map((statesName, index) => {\n            return (\n              <option key={index} value={statesName.state_id}>\n                {statesName.state_name}\n              </option>\n            );\n          })}\n        </select> */}\n        <select\n          className=\"btn btn-secondary dropdown-toggle selection\"\n          onChange={(e) => {\n            axios\n              .get(\n                `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${e.target.value}&date=${date}`\n              )\n              .then((response) => {\n                setData(response.data.centers);\n                setCurrentDistrict(e.target.value);\n              });\n          }}\n        >\n          <option value=\"\">Select</option>\n          {districts.map((districtName, index) => {\n            return (\n              <option key={index} value={districtName.district_id}>\n                {districtName.district_name}\n              </option>\n            );\n          })}\n        </select>\n        <select\n          className=\"btn btn-secondary dropdown-toggle smallSelection\"\n          onChange={(e) => {\n            setDose(e.target.value);\n          }}\n        >\n          <option value=\"\">All</option>\n          <option value=\"1\">Dose 1</option>\n          <option value=\"2\">Dose 2</option>\n        </select>\n        <select\n          className=\"btn btn-secondary dropdown-toggle smallSelection\"\n          onChange={(e) => {\n            setAge(e.target.value);\n          }}\n        >\n          <option value=\"\">All</option>\n          <option value=\"18\">18 - 40</option>\n          <option value=\"40\">41 - 44</option>\n          <option value=\"45\"> 45+ </option>\n        </select>\n        {useEffect(() => {\n          const timer = setInterval(() => {\n            if (district !== \"\") {\n              axios\n                .get(\n                  `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${district}&date=${date}`\n                )\n                .then((response) => {\n                  setData(response.data.centers);\n                  play = false;\n                  for (var i = 0; i < response.data.centers.length; i++) {\n                    for (\n                      var k = 0;\n                      k < response.data.centers[i].sessions.length;\n                      k++\n                    ) {\n                      if (\n                        response.data.centers[i].sessions[k]\n                          .available_capacity !== 0 &&\n                        (age === \"\" ||\n                          (age !== \"\" &&\n                            age ==\n                              response.data.centers[i].sessions[k]\n                                .min_age_limit)) &&\n                        (dose === \"\" ||\n                          (dose !== \"\" &&\n                            ((dose == \"1\" &&\n                              response.data.centers[i].sessions[k]\n                                .available_capacity_dose1 > 0) ||\n                              (dose == \"2\" &&\n                                response.data.centers[i].sessions[k]\n                                  .available_capacity_dose2 > 0)))) &&\n                        !cookies.get(\n                          response.data.centers[i].center_id +\n                            response.data.centers[i].sessions[k].date +\n                            response.data.centers[i].sessions[k].min_age_limit +\n                            response.data.centers[i].sessions[k].vaccine\n                        )\n                      ) {\n                        cookies.set(\n                          response.data.centers[i].center_id +\n                            response.data.centers[i].sessions[k].date +\n                            response.data.centers[i].sessions[k].min_age_limit +\n                            response.data.centers[i].sessions[k].vaccine,\n                          {\n                            key:\n                              response.data.centers[i].center_id +\n                              response.data.centers[i].sessions[k].date +\n                              response.data.centers[i].sessions[k]\n                                .min_age_limit +\n                              response.data.centers[i].sessions[k].vaccine,\n                          },\n                          { path: \"/\", expires: new Date(Date.now() + 3600000) }\n                        );\n\n                        if (!play) play = true;\n                        break;\n                      }\n                    }\n                  }\n                  if (play && canPlay) new Audio(audio).play();\n                });\n            }\n          }, 30000);\n          return () => {\n            clearInterval(timer);\n          };\n        })}\n      </div>\n\n      <div className=\"container\">\n        <table className=\"table table-striped\">\n          <thead className=\"thead-dark\">\n            <tr>\n              <th className=\"text-left\"> Vaccination Center</th>\n              <th>Availablity</th>\n            </tr>\n          </thead>\n          <tbody>\n            {(nodata = false)}\n            {data.map((obj, index) => {\n              return data[index].sessions.map(function (ses) {\n                if (\n                  ses.available_capacity !== 0 &&\n                  (age === \"\" || (age !== \"\" && age == ses.min_age_limit)) &&\n                  (dose === \"\" ||\n                    (dose !== \"\" &&\n                      ((dose == \"1\" && ses.available_capacity_dose1 > 0) ||\n                        (dose == \"2\" && ses.available_capacity_dose2 > 0))))\n                ) {\n                  if (!nodata) nodata = true;\n                  return (\n                    <tr>\n                      <td className=\"text-left left-td\">\n                        <span className=\"name\">{obj.name} </span>\n                        <span className={obj.fee_type}>{obj.fee_type}</span>\n                        <br />\n                        <span className=\"smallfont\">{obj.address}</span>\n                        <br />\n                        <span className=\"smallfont font-weight-bold\">\n                          {ses.date} |{\" \"}\n                        </span>\n                        <span className=\"smallfont font-weight-bold\">\n                          {ses.vaccine} |{\" \"}\n                        </span>{\" \"}\n                        <span className=\"smallfont font-weight-bold\">\n                          Age\n                          {ses.min_age_limit} +\n                        </span>\n                      </td>\n                      <td\n                        className={\n                          ses.available_capacity === 0\n                            ? \"nostock right-td\"\n                            : \"stock right-td\"\n                        }\n                      >\n                        Dose 1 : {ses.available_capacity_dose1}\n                        <br />\n                        Dose 2 : {ses.available_capacity_dose2}\n                        <br />\n                      </td>\n                    </tr>\n                  );\n                }\n              });\n            })}\n            {(() => {\n              if (!nodata && district !== \"\") {\n                return (\n                  <tr>\n                    <td colSpan=\"2\">\n                      No Vaccination center is available for booking in the\n                      selected district.\n                    </td>\n                  </tr>\n                );\n              }\n            })()}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}