{"version":3,"sources":["assets/audios/police_siren.mp3","Components/TelegramLink/TelegramLink.js","App.js","index.js"],"names":["TelegramLink","props","className","role","href","tid","target","style","fontWeight","name","App","curDate","moment","format","cookies","Cookies","useState","data","setData","districts","setDistricts","date","district","setCurrentDistrict","canPlay","setCanPlay","dose","setDose","age","setAge","play","nodata","marginTop","isMobile","type","id","defaultChecked","onClick","e","htmlFor","float","useEffect","axios","get","then","response","onChange","value","centers","map","districtName","index","district_id","district_name","timer","setInterval","i","length","k","sessions","available_capacity","min_age_limit","available_capacity_dose1","available_capacity_dose2","center_id","vaccine","set","key","path","expires","Date","now","Audio","audio","clearInterval","obj","ses","fee_type","address","colSpan","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iRAAe,MAA0B,yC,OCwB1BA,MAtBf,SAAsBC,GACpB,OACE,8BACE,qBAAKC,UAAU,2BAA2BC,KAAK,QAA/C,SACE,4BACE,gCACE,oBACEC,KAAM,uBAAyBH,EAAMI,IACrCC,OAAO,SACPJ,UAAU,uBACVK,MAAO,CAAEC,WAAY,QAJvB,UAME,mBAAGN,UAAU,oBANf,SAM4CD,EAAMQ,KANlD,iD,QCwSGC,MAvSf,WACE,IAAIC,EAAUC,MAASC,OAAO,cACxBC,EAAU,IAAIC,IACpB,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA2BF,mBAAS,IAApC,mBACA,GADA,UACkCA,mBAAS,KAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAwBJ,mBAASL,GAAjC,mBAAOU,EAAP,KACA,GADA,KACuCL,mBAAS,KAAhD,mBAAOM,EAAP,KAAiBC,EAAjB,KACA,EAA8BP,oBAAS,GAAvC,mBAAOQ,EAAP,KAAgBC,EAAhB,KACA,EAAwBT,mBAAS,IAAjC,mBAAOU,EAAP,KAAaC,EAAb,KACA,EAAsBX,mBAAS,IAA/B,mBAAOY,EAAP,KAAYC,EAAZ,KACIC,GAAO,EACPC,GAAS,EAEb,OACE,sBAAK7B,UAAU,MAAf,UAEE,qBAAKA,UAAU,oCAAf,SACE,qBAAKA,UAAU,kBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,oBAAGA,UAAU,eAAeE,KAAK,IAAjC,UACE,sBAAMF,UAAU,iCADlB,WAGA,mBAAGA,UAAU,eAAeE,KAAK,cAAjC,0BAON,sBAAKF,UAAU,YAAYK,MAAO,CAAEyB,UAAW,QAA/C,UAEqB,QAAbV,EACK,cAAC,EAAD,CAAcb,KAAK,YAAYJ,IAAI,iBACpB,QAAbiB,EAEP,cAAC,EAAD,CAAcb,KAAK,YAAYJ,IAAI,0BAEf,QAAbiB,EACF,cAAC,EAAD,CAAcb,KAAK,SAASJ,IAAI,uBACjB,QAAbiB,EACF,cAAC,EAAD,CAAcb,KAAK,WAAWJ,IAAI,yBACnB,QAAbiB,EACF,cAAC,EAAD,CAAcb,KAAK,WAAWJ,IAAI,yBACnB,QAAbiB,EAEP,cAAC,EAAD,CAAcb,KAAK,aAAaJ,IAAI,2BAG/B,wBAIT,WACA,IAAK4B,WACH,OACE,sBAAK/B,UAAU,iCAAf,UACE,uBACEgC,KAAK,WACLhC,UAAU,uBACViC,GAAG,mBACHC,eAAe,OACfC,QAAS,SAACC,GACRb,GAAYD,MAGhB,uBACEtB,UAAU,uBACVqC,QAAQ,mBACRhC,MAAO,CAAEiC,MAAO,QAHlB,mCAbN,GAyBDC,qBAAU,WACTC,IACGC,IAAI,gEACJC,MAAK,SAACC,GACLzB,EAAayB,EAAS5B,KAAKE,gBAE9B,IAsBH,yBACEjB,UAAU,8CACV4C,SAAU,SAACR,GACTI,IACGC,IADH,sGAEmGL,EAAEhC,OAAOyC,MAF5G,iBAE0H1B,IAEvHuB,MAAK,SAACC,GACL3B,EAAQ2B,EAAS5B,KAAK+B,SACtBzB,EAAmBe,EAAEhC,OAAOyC,WATpC,UAaE,wBAAQA,MAAM,GAAd,oBACC5B,EAAU8B,KAAI,SAACC,EAAcC,GAC5B,OACE,wBAAoBJ,MAAOG,EAAaE,YAAxC,SACGF,EAAaG,eADHF,SAMnB,yBACEjD,UAAU,mDACV4C,SAAU,SAACR,GACTX,EAAQW,EAAEhC,OAAOyC,QAHrB,UAME,wBAAQA,MAAM,GAAd,iBACA,wBAAQA,MAAM,IAAd,oBACA,wBAAQA,MAAM,IAAd,uBAEF,yBACE7C,UAAU,mDACV4C,SAAU,SAACR,GACTT,EAAOS,EAAEhC,OAAOyC,QAHpB,UAME,wBAAQA,MAAM,GAAd,iBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,qBACA,wBAAQA,MAAM,KAAd,sBAEDN,qBAAU,WACT,IAAMa,EAAQC,aAAY,WACP,KAAbjC,GACFoB,IACGC,IADH,sGAEmGrB,EAFnG,iBAEoHD,IAEjHuB,MAAK,SAACC,GACL3B,EAAQ2B,EAAS5B,KAAK+B,SACtBlB,GAAO,EACP,IAAK,IAAI0B,EAAI,EAAGA,EAAIX,EAAS5B,KAAK+B,QAAQS,OAAQD,IAChD,IACE,IAAIE,EAAI,EACRA,EAAIb,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASF,OACtCC,IAEA,GAE4B,IAD1Bb,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAC/BE,qBACM,KAARhC,GACU,KAARA,GACCA,GACEiB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAC/BG,iBACC,KAATnC,GACW,KAATA,IACW,KAARA,GACAmB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAC/BI,yBAA2B,GACrB,KAARpC,GACCmB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAC/BK,yBAA2B,MACrCjD,EAAQ6B,IACPE,EAAS5B,KAAK+B,QAAQQ,GAAGQ,UACvBnB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGrC,KACrCwB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGG,cACrChB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGO,SAEzC,CACAnD,EAAQoD,IACNrB,EAAS5B,KAAK+B,QAAQQ,GAAGQ,UACvBnB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGrC,KACrCwB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGG,cACrChB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGO,QACvC,CACEE,IACEtB,EAAS5B,KAAK+B,QAAQQ,GAAGQ,UACzBnB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGrC,KACrCwB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAC/BG,cACHhB,EAAS5B,KAAK+B,QAAQQ,GAAGG,SAASD,GAAGO,SAEzC,CAAEG,KAAM,IAAKC,QAAS,IAAIC,KAAKA,KAAKC,MAAQ,QAGzCzC,IAAMA,GAAO,GAClB,MAIFA,GAAQN,GAAS,IAAIgD,MAAMC,GAAO3C,YAG3C,KACH,OAAO,WACL4C,cAAcpB,UAKpB,qBAAKpD,UAAU,YAAf,SACE,wBAAOA,UAAU,sBAAjB,UACE,uBAAOA,UAAU,aAAjB,SACE,+BACE,oBAAIA,UAAU,YAAd,iCACA,kDAGJ,kCACI6B,GAAS,EACVd,EAAKgC,KAAI,SAAC0B,EAAKxB,GACd,OAAOlC,EAAKkC,GAAOQ,SAASV,KAAI,SAAU2B,GACxC,GAC6B,IAA3BA,EAAIhB,qBACK,KAARhC,GAAuB,KAARA,GAAcA,GAAOgD,EAAIf,iBAC/B,KAATnC,GACW,KAATA,IACW,KAARA,GAAekD,EAAId,yBAA2B,GACrC,KAARpC,GAAekD,EAAIb,yBAA2B,IAGrD,OADKhC,IAAQA,GAAS,GAEpB,+BACE,qBAAI7B,UAAU,oBAAd,UACE,uBAAMA,UAAU,OAAhB,UAAwByE,EAAIlE,KAA5B,OACA,sBAAMP,UAAWyE,EAAIE,SAArB,SAAgCF,EAAIE,WACpC,uBACA,sBAAM3E,UAAU,YAAhB,SAA6ByE,EAAIG,UACjC,uBACA,uBAAM5E,UAAU,6BAAhB,UACG0E,EAAIvD,KADP,KACe,OAEf,uBAAMnB,UAAU,6BAAhB,UACG0E,EAAIX,QADP,KACkB,OACV,IACR,uBAAM/D,UAAU,6BAAhB,gBAEG0E,EAAIf,cAFP,WAKF,qBACE3D,UAC6B,IAA3B0E,EAAIhB,mBACA,mBACA,iBAJR,sBAOYgB,EAAId,yBACd,uBARF,YASYc,EAAIb,yBACd,mCAOV,WACA,IAAKhC,GAAuB,KAAbT,EACb,OACE,6BACE,oBAAIyD,QAAQ,IAAZ,wFAJN,eCxRdC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ae67f11b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/police_siren.bacfc8b7.mp3\";","import React from \"react\";\n\nfunction TelegramLink(props) {\n  return (\n    <div>\n      <div className=\"alert alert-info d-block\" role=\"alert\">\n        <b>\n          <small>\n            <a\n              href={\"https://telegram.me/\" + props.tid}\n              target=\"_blank\"\n              className=\"twitter text-primary\"\n              style={{ fontWeight: \"bold\" }}\n            >\n              <i className=\"bx bxl-telegram\"></i> Join {props.name} Telegram\n              channel for live updates\n            </a>\n          </small>\n        </b>\n      </div>\n    </div>\n  );\n}\n\nexport default TelegramLink;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport moment from \"moment\";\nimport audio from \"./assets/audios/police_siren.mp3\";\nimport TelegramLink from \"./Components/TelegramLink/TelegramLink\";\nimport { isMobile } from \"react-device-detect\";\n\nfunction App() {\n  let curDate = moment().format(\"DD-MM-YYYY\");\n  const cookies = new Cookies();\n  const [data, setData] = useState([]);\n  const [states, setState] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [date, setDate] = useState(curDate);\n  const [district, setCurrentDistrict] = useState(\"\");\n  const [canPlay, setCanPlay] = useState(true);\n  const [dose, setDose] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  let play = false;\n  let nodata = false;\n\n  return (\n    <div className=\"App\">\n      {/* <Notify /> */}\n      <nav className=\"navbar navbar-default nav-default\">\n        <div className=\"container-fluid\">\n          <div className=\"navbar-header\">\n            <a className=\"navbar-brand\" href=\"#\">\n              <span className=\"glyphicon glyphicon-envelope\"></span> Home\n            </a>\n            <a className=\"navbar-brand\" href=\"nidhinpp.in\">\n              About\n            </a>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"container\" style={{ marginTop: \"2rem\" }}>\n        {(() => {\n          if (district === \"305\") {\n            return <TelegramLink name=\"Kozhikode\" tid=\"c0vidVaccine\" />;\n          } else if (district === \"295\") {\n            return (\n              <TelegramLink name=\"Kasaragod\" tid=\"c0vidVaccineKasaragod\" />\n            );\n          } else if (district === \"297\") {\n            return <TelegramLink name=\"Kannur\" tid=\"c0vidVaccineKannur\" />;\n          } else if (district === \"303\") {\n            return <TelegramLink name=\"Thrissur\" tid=\"c0vidVaccineThrissur\" />;\n          } else if (district === \"308\") {\n            return <TelegramLink name=\"Palakkad\" tid=\"c0vidVaccinePalakkad\" />;\n          } else if (district === \"302\") {\n            return (\n              <TelegramLink name=\"Malappuram\" tid=\"c0vidVaccineMalappuram\" />\n            );\n          } else {\n            return <div></div>;\n          }\n        })()}\n\n        {(() => {\n          if (!isMobile) {\n            return (\n              <div className=\"custom-control custom-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"enableAudioAlert\"\n                  defaultChecked=\"true\"\n                  onClick={(e) => {\n                    setCanPlay(!canPlay);\n                  }}\n                ></input>\n                <label\n                  className=\"custom-control-label\"\n                  htmlFor=\"enableAudioAlert\"\n                  style={{ float: \"left\" }}\n                >\n                  Enable Audio Alert\n                </label>\n              </div>\n            );\n          }\n        })()}\n\n        {useEffect(() => {\n          axios\n            .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/districts/17\")\n            .then((response) => {\n              setDistricts(response.data.districts);\n            });\n        }, [])}\n        {/* <select\n          className=\"btn btn-secondary dropdown-toggle selection\"\n          onChange={(e) => {\n            axios\n              .get(\n                `https://cdn-api.co-vin.in/api/v2/admin/location/districts/${e.target.value}`\n              )\n              .then((response) => {\n                setDistricts(response.data.districts);\n              });\n          }}\n        >\n          <option value=\"\">Select</option>\n          {states.map((statesName, index) => {\n            return (\n              <option key={index} value={statesName.state_id}>\n                {statesName.state_name}\n              </option>\n            );\n          })}\n        </select> */}\n        <select\n          className=\"btn btn-secondary dropdown-toggle selection\"\n          onChange={(e) => {\n            axios\n              .get(\n                `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${e.target.value}&date=${date}`\n              )\n              .then((response) => {\n                setData(response.data.centers);\n                setCurrentDistrict(e.target.value);\n              });\n          }}\n        >\n          <option value=\"\">Select</option>\n          {districts.map((districtName, index) => {\n            return (\n              <option key={index} value={districtName.district_id}>\n                {districtName.district_name}\n              </option>\n            );\n          })}\n        </select>\n        <select\n          className=\"btn btn-secondary dropdown-toggle smallSelection\"\n          onChange={(e) => {\n            setDose(e.target.value);\n          }}\n        >\n          <option value=\"\">All</option>\n          <option value=\"1\">Dose 1</option>\n          <option value=\"2\">Dose 2</option>\n        </select>\n        <select\n          className=\"btn btn-secondary dropdown-toggle smallSelection\"\n          onChange={(e) => {\n            setAge(e.target.value);\n          }}\n        >\n          <option value=\"\">All</option>\n          <option value=\"18\">18 - 40</option>\n          <option value=\"40\">41 - 44</option>\n          <option value=\"45\"> 45+ </option>\n        </select>\n        {useEffect(() => {\n          const timer = setInterval(() => {\n            if (district !== \"\") {\n              axios\n                .get(\n                  `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${district}&date=${date}`\n                )\n                .then((response) => {\n                  setData(response.data.centers);\n                  play = false;\n                  for (var i = 0; i < response.data.centers.length; i++) {\n                    for (\n                      var k = 0;\n                      k < response.data.centers[i].sessions.length;\n                      k++\n                    ) {\n                      if (\n                        response.data.centers[i].sessions[k]\n                          .available_capacity !== 0 &&\n                        (age === \"\" ||\n                          (age !== \"\" &&\n                            age ==\n                              response.data.centers[i].sessions[k]\n                                .min_age_limit)) &&\n                        (dose === \"\" ||\n                          (dose !== \"\" &&\n                            ((dose == \"1\" &&\n                              response.data.centers[i].sessions[k]\n                                .available_capacity_dose1 > 0) ||\n                              (dose == \"2\" &&\n                                response.data.centers[i].sessions[k]\n                                  .available_capacity_dose2 > 0)))) &&\n                        !cookies.get(\n                          response.data.centers[i].center_id +\n                            response.data.centers[i].sessions[k].date +\n                            response.data.centers[i].sessions[k].min_age_limit +\n                            response.data.centers[i].sessions[k].vaccine\n                        )\n                      ) {\n                        cookies.set(\n                          response.data.centers[i].center_id +\n                            response.data.centers[i].sessions[k].date +\n                            response.data.centers[i].sessions[k].min_age_limit +\n                            response.data.centers[i].sessions[k].vaccine,\n                          {\n                            key:\n                              response.data.centers[i].center_id +\n                              response.data.centers[i].sessions[k].date +\n                              response.data.centers[i].sessions[k]\n                                .min_age_limit +\n                              response.data.centers[i].sessions[k].vaccine,\n                          },\n                          { path: \"/\", expires: new Date(Date.now() + 3600000) }\n                        );\n\n                        if (!play) play = true;\n                        break;\n                      }\n                    }\n                  }\n                  if (play && canPlay) new Audio(audio).play();\n                });\n            }\n          }, 30000);\n          return () => {\n            clearInterval(timer);\n          };\n        })}\n      </div>\n\n      <div className=\"container\">\n        <table className=\"table table-striped\">\n          <thead className=\"thead-dark\">\n            <tr>\n              <th className=\"text-left\"> Vaccination Center</th>\n              <th>Availablity</th>\n            </tr>\n          </thead>\n          <tbody>\n            {(nodata = false)}\n            {data.map((obj, index) => {\n              return data[index].sessions.map(function (ses) {\n                if (\n                  ses.available_capacity !== 0 &&\n                  (age === \"\" || (age !== \"\" && age == ses.min_age_limit)) &&\n                  (dose === \"\" ||\n                    (dose !== \"\" &&\n                      ((dose == \"1\" && ses.available_capacity_dose1 > 0) ||\n                        (dose == \"2\" && ses.available_capacity_dose2 > 0))))\n                ) {\n                  if (!nodata) nodata = true;\n                  return (\n                    <tr>\n                      <td className=\"text-left left-td\">\n                        <span className=\"name\">{obj.name} </span>\n                        <span className={obj.fee_type}>{obj.fee_type}</span>\n                        <br />\n                        <span className=\"smallfont\">{obj.address}</span>\n                        <br />\n                        <span className=\"smallfont font-weight-bold\">\n                          {ses.date} |{\" \"}\n                        </span>\n                        <span className=\"smallfont font-weight-bold\">\n                          {ses.vaccine} |{\" \"}\n                        </span>{\" \"}\n                        <span className=\"smallfont font-weight-bold\">\n                          Age\n                          {ses.min_age_limit} +\n                        </span>\n                      </td>\n                      <td\n                        className={\n                          ses.available_capacity === 0\n                            ? \"nostock right-td\"\n                            : \"stock right-td\"\n                        }\n                      >\n                        Dose 1 : {ses.available_capacity_dose1}\n                        <br />\n                        Dose 2 : {ses.available_capacity_dose2}\n                        <br />\n                      </td>\n                    </tr>\n                  );\n                }\n              });\n            })}\n            {(() => {\n              if (!nodata && district !== \"\") {\n                return (\n                  <tr>\n                    <td colSpan=\"2\">\n                      No Vaccination center is available for booking in the\n                      selected district.\n                    </td>\n                  </tr>\n                );\n              }\n            })()}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}